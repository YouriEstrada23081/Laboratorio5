#include <Arduino.h>
//paso 1 incluir la libreria 
#include <LiquidCrystal.h>

//paso 2 definir los pines a utilizar 
#define rs 15
#define en 2
#define d0 4
#define d1 16
#define d2 17
#define d3 5
#define d4 18
#define d5 19
#define d6 21
#define d7 27
#define p1 32
#define p2 35
#define bt1 33
#define bt2 13

// paso 3 instanciar objeto lcd
LiquidCrystal lcd(rs, en, d0, d1, d2,d3,d4,d5,d6,d7);

unsigned long ts = 0;
unsigned long ts1 = 0;
const long d = 300;

// Banderas y contadores
bool us1 = false;
bool us2 = false;
int b1 = 0;
int b2 = 0;
int contador1 = 0;
int pot1=0;
int pot2=0;
float valorV=0;
void setup() {
  pinMode(p1, INPUT);
  pinMode(p2, INPUT);
  pinMode(bt1, INPUT);
  pinMode(bt2, INPUT);
  // paso 4 iniciar lcd
  lcd.begin(16,2);
  lcd.clear();
  Serial.begin(115200);
}

void loop() {

b1= digitalRead(bt1);
b2 =digitalRead(bt2);
pot1= analogRead(p1);
pot2=analogRead(p2);

if (b1 == true && us2 == false) {
    if ((millis() - ts) > d) {
      contador1++;
      if (contador1 > 255) { 
        contador1 = 0;
      }
    }
  ts= millis();
}
us1 = b1;
if (b2 == true && us2 == false) {
    if ((millis() - ts1) > d) {
      contador1--;
      if (contador1 < 0) { 
        contador1 = 255;
      }
    }
  ts1=millis();
  }
us2 = b2;

valorV = ((pot2*3.3)/4095);
Serial.println(valorV);
String valorV1 = String(valorV, 2); 
  lcd.setCursor(0,0);
  lcd.print("Pot1");
  lcd.setCursor(6, 0);
  lcd.print("Pot2");
  lcd.setCursor(11,0);
  lcd.print("Cont");
  lcd.setCursor(0,1); //0,1 para escribir en la segunda fila
  lcd.print(pot1);
  lcd.print("    ");
  lcd.setCursor(6,1);
  lcd.print(valorV);
  lcd.print("    ");
  lcd.setCursor(11,1);
  lcd.print(contador1);
  lcd.print("    ");

}
